<p-confirmDialog></p-confirmDialog>
<div class="container-fluid mt-2">

    <div class="row mt-4">
        <div class="col-md-6">
            <h2 class="section-label poppins-semibold">Stores</h2>
        </div>
        <div class="col-md-6">
            <div class="mb-3 d-flex justify-content-end">
                <input type="text" pInputText placeholder="Search" [(ngModel)]="searchText" class="search-bar mr-2"
                    (input)="filterStores()" />
                <button pButton label="Add Store" icon="pi pi-plus" class="add-btn" (click)="onAddStore()"></button>
            </div>
        </div>
    </div>
    <div class="card">

        <p-table #dt [value]="stores" [paginator]="true" [rows]="10"
            [globalFilterFields]="['name', 'company', 'contact', 'address']" responsiveLayout="scroll">
            <ng-template pTemplate="header">
                <tr>
                    <th>Name</th>
                    <th>Company</th>
                    <th>Contact</th>
                    <th>Address</th>
                    <th>Created On</th>
                    <th>Action</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-store>
                <tr>
                    <td><strong>{{ store.name }}</strong></td>
                    <td>
                        <img [src]="store.logo" alt="Logo" width="30" height="30"
                            style="border-radius: 50%; margin-right: 8px;">
                        {{ store.company }}
                    </td>
                    <td>{{ store.contact }}</td>
                    <td>{{ store.address }}</td>
                    <td>{{ store.createdOn | date:'medium' }}</td>
                    <td>
                        <p-menu [popup]="true" #menu [model]="getMenuItems(store)" appendTo="body"></p-menu>
                        <img src="../../../assets/svg/icons/action.svg" alt="Actions" style="cursor: pointer;"
                            (click)="menu.toggle($event)" />
                    </td>

                </tr>
            </ng-template>
        </p-table>
    </div>

</div>